---
alwaysApply: true
---

# Chat Game H5 项目技术栈规则

这是一个基于 React 19 + TypeScript + Vite 的 H5 移动端游戏项目，具有 AI 聊天功能。

## 项目结构

- **入口文件**: [src/main.tsx](mdc:src/main.tsx) - React 应用初始化
- **主应用**: [src/App.tsx](mdc:src/App.tsx) - 路由配置
- **构建配置**: [vite.config.ts](mdc:vite.config.ts) - Vite 配置
- **包管理器**: 始终使用 `pnpm`（禁止使用 npm 和 yarn）

## 技术栈

### 核心框架
- **React 19**: 使用现代 React 特性，函数组件 + Hooks
- **TypeScript**: 严格模式，ES2020 目标
- **Vite**: 构建工具，支持多环境构建

### 样式方案
- **Tailwind CSS v4**: 主要样式框架
- **Less**: 预处理器，用于复杂样式
- **PostCSS**: 自动添加浏览器前缀

### UI 和动画
- **React Vant**: 移动端 UI 组件库
- **Framer Motion**: 动画库
- **Lottie**: JSON 动画支持

### AI 集成
- **@ai-sdk/openai**: OpenAI SDK
- **@ai-sdk/react**: React AI 集成
- **streamdown**: 实时流式响应
- **remark-gfm**: GitHub 风格 Markdown

### 移动端优化
- **Eruda**: 移动端调试工具
- **移动优先设计**: 320px+ 屏幕适配
- **触摸交互**: 44px 最小触摸目标

## 开发规范

### 组件开发
```typescript
interface ComponentProps {
  // 定义 props 接口
}

export const Component: React.FC<ComponentProps> = ({ prop1, prop2 }) => {
  // 组件逻辑
  return (
    <div>
      {/* JSX 内容 */}
    </div>
  )
}
```

### 文件组织
- `src/page/` - 页面组件
- `src/components/` - 可复用组件
- `src/hooks/` - 自定义 Hooks
- `src/utils/` - 工具函数
- `src/types/` - TypeScript 类型定义
- `src/assets/` - 静态资源

### 导入顺序
1. React 相关导入
2. 第三方库
3. 内部组件/工具
4. 类型导入
5. 使用 `@/` 路径别名

### 样式规范
- 优先使用 Tailwind 工具类
- 复杂样式使用 Less 文件
- 组件样式使用 CSS Modules
- 全局样式在 [src/assets/css/global.css](mdc:src/assets/css/global.css)

### 构建和部署
- 开发: `pnpm dev`
- 生产构建: `pnpm build:prod`
- 输出目录: `dist/bjfawh5/chatg/static/`
- CDN 集成: FAW 静态文件服务

### 代码质量
- ESLint: TypeScript + React Hooks 规则
- 使用 `const` 优先于 `let`
- 实现错误边界和加载状态
- 移动端性能优化

### AI 功能开发
- 使用 `useChat` Hook 处理聊天
- 实现流式响应处理
- Markdown 渲染支持
- 移动端聊天界面优化